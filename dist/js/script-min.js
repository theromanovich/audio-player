const image=document.querySelector("img"),title=document.getElementById("title"),artist=document.getElementById("artist"),music=document.querySelector("audio"),progressContainer=document.getElementById("progress-container"),progress=document.getElementById("progress"),currentTimeEl=document.getElementById("current-time"),durationEl=document.getElementById("duration"),prevBtn=document.getElementById("prev"),playBtn=document.getElementById("play"),nextBtn=document.getElementById("next"),songs=[{name:"sweet-dreams",displayName:"Sweet Dreams",artist:"Eurythmics"},{name:"paradise",displayName:"Gangsta's Paradise",artist:"Coolio"},{name:"happy-nation",displayName:"Ðappy Nation",artist:"Ace Of Base"}];let isPlaying=!1;function playSong(){isPlaying=!0,playBtn.classList.replace("fa-play","fa-pause"),playBtn.setAttribute("title","Pause"),music.play()}function pauseSong(){isPlaying=!1,playBtn.classList.replace("fa-pause","fa-play"),playBtn.setAttribute("title","Play"),music.pause()}function loadSong(e){title.textContent=e.displayName,artist.textContent=e.artist,music.src=`../music/${e.name}.mp3`,image.src=`../img/${e.name}.jpeg`}playBtn.addEventListener("click",()=>isPlaying?pauseSong():playSong());let songIndex=0;function prevSong(){--songIndex<0&&(songIndex=songs.length-1),loadSong(songs[songIndex]),playSong()}function nextSong(){++songIndex>songs.length-1&&(songIndex=0),loadSong(songs[songIndex]),playSong()}function updateProgressBar(e){if(isPlaying){const{duration:t,currentTime:n}=e.srcElement,s=n/t*100;progress.style.width=`${s}%`;const a=Math.floor(t/60);let o=Math.floor(t%60);o<10&&(o=`0${o}`),o&&(durationEl.textContent=`${a}:${o}`);const i=Math.floor(n/60);let r=Math.floor(n%60);r<10&&(r=`0${r}`),currentTimeEl.textContent=`${i}:${r}`}}function setProgressBar(e){const t=this.clientWidth,n=e.offsetX,{duration:s}=music;music.currentTime=n/t*s}loadSong(songs[songIndex]),prevBtn.addEventListener("click",prevSong),nextBtn.addEventListener("click",nextSong),music.addEventListener("ended",nextSong),music.addEventListener("timeupdate",updateProgressBar),progressContainer.addEventListener("click",setProgressBar);